<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>葡萄藤下的振兴之路 - 淮北段园镇乡村振兴纪实</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        :root {
            --primary-color: #5e2d79;
            --secondary-color: #3a7d34;
            --accent-color: #8a4cad;
            --light-color: #f9f7f2;
            --dark-color: #333;
        }
        
        body {
            background-color: var(--light-color);
            color: var(--dark-color);
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
        }
        
        .page {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        .content {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
            height: 100%;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        h1 {
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            color: var(--primary-color);
            margin-bottom: 20px;
            text-align: center;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s forwards;
        }
        
        h2 {
            font-size: clamp(1.5rem, 4vw, 1.8rem);
            color: var(--secondary-color);
            margin: 15px 0;
            opacity: 0;
            transform: translateX(-50px);
            animation: slideInRight 0.8s forwards;
        }
        
        h3 {
            font-size: clamp(1.2rem, 3.5vw, 1.5rem);
            color: var(--primary-color);
            margin: 10px 0;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s forwards;
        }
        
        p {
            line-height: 1.6;
            margin-bottom: 15px;
            font-size: clamp(1rem, 2.5vw, 1.1rem);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s forwards;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 25px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            border: none;
            border-radius: 30px;
            font-size: clamp(1rem, 2.5vw, 1.1rem);
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(94, 45, 121, 0.3);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s 0.5s forwards;
        }
        
        .btn:hover, .btn:active {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(94, 45, 121, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, var(--secondary-color), #5cb85c);
        }
        
        /* 导航点 */
        .nav-dots {
            position: fixed;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
        }
        
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ccc;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .dot.active {
            background-color: var(--primary-color);
            transform: scale(1.3);
        }
        
        /* 葡萄藤动画容器 */
        .vine-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }
        
        /* 插画风格葡萄元素 */
        .grape-illustration {
            position: absolute;
            z-index: 2;
            pointer-events: none;
        }
        
        .grape-illustration.small {
            width: 60px;
            height: 60px;
            animation: float 6s infinite ease-in-out;
        }
        
        .grape-illustration.medium {
            width: 90px;
            height: 90px;
            animation: float 8s infinite ease-in-out;
        }
        
        .grape-illustration.large {
            width: 120px;
            height: 120px;
            animation: float 10s infinite ease-in-out;
        }
        
        /* 页面特定样式 */
        #page1 {
            background: linear-gradient(135deg, var(--light-color) 0%, #e8f5e9 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        #page1 h1 {
            font-size: clamp(2.2rem, 7vw, 3rem);
            margin-bottom: 10px;
            animation: fadeInDown 1s forwards;
        }
        
        #page1 .subtitle {
            font-size: clamp(1.2rem, 4vw, 1.5rem);
            color: var(--primary-color);
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s 0.3s forwards;
        }
        
        .page-bg {
            background: linear-gradient(135deg, #e8f5e9 0%, var(--light-color) 100%);
        }
        
        .page-bg-alt {
            background: linear-gradient(135deg, var(--light-color) 0%, #e8f5e9 100%);
        }
        
        /* 时间轴样式 */
        .timeline {
            position: relative;
            max-width: 600px;
            margin: 30px auto;
        }
        
        .timeline::after {
            content: '';
            position: absolute;
            width: 6px;
            background-color: var(--primary-color);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
        }
        
        .timeline-item {
            padding: 10px 40px;
            position: relative;
            width: 50%;
            opacity: 0;
            transform: translateX(-50px);
        }
        
        .timeline-item:nth-child(odd) {
            left: 0;
        }
        
        .timeline-item:nth-child(even) {
            left: 50%;
            transform: translateX(50px);
        }
        
        .timeline-content {
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        /* 葡萄种植互动区域 */
        .planting-area {
            width: 100%;
            height: 300px;
            background-color: #e8f5e9;
            border-radius: 15px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            border: 2px dashed var(--secondary-color);
            opacity: 0;
            transform: scale(0.9);
            animation: scaleIn 0.8s forwards;
        }
        
        .grape-plant {
            position: absolute;
            bottom: 0;
            width: 60px;
            height: 0;
            background: linear-gradient(to top, var(--secondary-color), #5cb85c);
            border-radius: 5px 5px 0 0;
            transition: height 2s;
            cursor: pointer;
        }
        
        .grape-plant::before {
            content: '';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            background-color: var(--primary-color);
            border-radius: 50%;
            box-shadow: 
                20px 10px 0 var(--primary-color),
                -20px 10px 0 var(--primary-color),
                0px -20px 0 var(--primary-color);
        }
        
        /* 数据可视化 */
        .stats-container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin: 30px 0;
        }
        
        .stat-item {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin: 10px;
            flex: 1;
            min-width: 150px;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .stat-number {
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        /* 图片容器 */
        .img-container {
            width: 100%;
            margin: 20px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .img-container img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s;
        }
        
        .img-container:hover img {
            transform: scale(1.05);
        }
        
        .img-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px;
            font-size: 0.9rem;
            text-align: center;
        }
        
        /* 地图容器 */
        .map-container {
            width: 100%;
            height: 300px;
            background-color: #e8f5e9;
            border-radius: 10px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(30px);
        }
        
        /* 对比图表 */
        .comparison-chart {
            width: 100%;
            height: 200px;
            background: white;
            border-radius: 10px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            opacity: 0;
            transform: translateY(30px);
        }
        
        .chart-bar {
            position: absolute;
            bottom: 0;
            width: 40px;
            background: linear-gradient(to top, var(--primary-color), var(--accent-color));
            border-radius: 5px 5px 0 0;
            transition: height 1.5s ease-out;
        }
        
        /* 引用样式 */
        .quote {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid var(--primary-color);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            font-style: italic;
            opacity: 0;
            transform: translateX(-50px);
        }
        
        .quote-author {
            text-align: right;
            margin-top: 10px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        /* 动画定义 */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes grow {
            from { height: 0; }
            to { height: 200px; }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-10px) rotate(2deg); }
            50% { transform: translateY(-5px) rotate(0deg); }
            75% { transform: translateY(-10px) rotate(-2deg); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .content {
                padding: 15px;
            }
            
            .timeline::after {
                left: 31px;
            }
            
            .timeline-item {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
            }
            
            .timeline-item:nth-child(even) {
                left: 0;
                transform: translateX(-50px);
            }
            
            .nav-dots {
                right: 10px;
            }
            
            .dot {
                width: 10px;
                height: 10px;
                margin: 12px 0;
            }
            
            .planting-area {
                height: 250px;
            }
            
            .map-container {
                height: 250px;
            }
        }
        
        @media (max-width: 480px) {
            .stats-container {
                flex-direction: column;
            }
            
            .stat-item {
                min-width: 100%;
                margin: 5px 0;
            }
            
            .timeline-item {
                padding-left: 50px;
                padding-right: 15px;
            }
            
            .timeline::after {
                left: 20px;
            }
        }
        
        /* 加载动画 */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--light-color);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s, visibility 0.5s;
        }
        
        .loader.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .loader-spinner {
            width: 80px;
            height: 80px;
            border: 8px solid rgba(94, 45, 121, 0.2);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s linear infinite;
        }
        
        /* 进度条 */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            z-index: 100;
            transition: width 0.3s;
        }
        
        /* 数据来源标注 */
        .data-source {
            font-size: 0.8rem;
            color: #666;
            text-align: center;
            margin-top: 10px;
            opacity: 0;
            transform: translateY(20px);
        }
        
        /* 葡萄插画SVG样式 */
        .grape-svg {
            width: 100%;
            height: 100%;
        }
        
        /* 动画延迟类 */
        .delay-1 { animation-delay: 0.2s; }
        .delay-2 { animation-delay: 0.4s; }
        .delay-3 { animation-delay: 0.6s; }
        .delay-4 { animation-delay: 0.8s; }
        .delay-5 { animation-delay: 1s; }
    </style>
</head>
<body>
    <!-- 加载动画 -->
    <div class="loader" id="loader">
        <div class="loader-spinner"></div>
    </div>
    
    <!-- 进度条 -->
    <div class="progress-bar" id="progressBar"></div>
    
    <!-- 页面1: 封面 -->
    <div class="page" id="page1">
        <div class="vine-container" id="vine1"></div>
        <div class="content">
            <h1>葡萄藤下的振兴之路</h1>
            <div class="subtitle">淮北段园镇毛庄村乡村振兴纪实</div>
            <button class="btn" id="startBtn">开启振兴之旅</button>
        </div>
        
        <!-- 插画风格葡萄元素 -->
        <div class="grape-illustration small" style="top: 20%; left: 10%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#5e2d79" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
        <div class="grape-illustration medium" style="top: 70%; left: 80%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#8a4cad" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
        <div class="grape-illustration large" style="top: 40%; left: 85%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#5e2d79" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
    </div>
    
    <!-- 页面2: 引言 -->
    <div class="page page-bg" id="page2">
        <div class="vine-container" id="vine2"></div>
        <div class="content">
            <h2 class="delay-1">淮北明珠：段园葡萄小镇</h2>
            <p class="delay-2">段园镇位于淮北市最北部，苏皖两省交界处，素有"安徽北大门"之称。这里土壤肥沃，气候适宜，是葡萄种植的黄金地带。</p>
            
            <div class="img-container delay-3">
                <img src="https://via.placeholder.com/800x400/e8f5e9/3a7d34?text=段园镇葡萄园风光" alt="段园镇葡萄园风光">
                <div class="img-caption">段园镇葡萄种植基地（图片来源：淮北市农业农村局）</div>
            </div>
            
            <p class="delay-4">然而，曾经的毛庄村面临着青壮年外出务工、土地闲置、产业单一等乡村振兴的普遍难题。</p>
            
            <div class="stats-container">
                <div class="stat-item delay-1">
                    <div class="stat-number" id="stat1">0</div>
                    <div>葡萄种植面积(亩)</div>
                </div>
                <div class="stat-item delay-2">
                    <div class="stat-number" id="stat2">0</div>
                    <div>年均产值(万元)</div>
                </div>
                <div class="stat-item delay-3">
                    <div class="stat-number" id="stat3">0</div>
                    <div>带动就业人数</div>
                </div>
            </div>
            <div class="data-source delay-4">数据来源：淮北市乡村振兴局（2010年数据）</div>
        </div>
        
        <!-- 插画风格葡萄元素 -->
        <div class="grape-illustration small" style="top: 15%; left: 5%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#5e2d79" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
        <div class="grape-illustration medium" style="top: 80%; left: 90%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#8a4cad" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
    </div>
    
    <!-- 页面3: 地理位置 -->
    <div class="page page-bg-alt" id="page3">
        <div class="vine-container" id="vine3"></div>
        <div class="content">
            <h2 class="delay-1">优越的地理位置</h2>
            <p class="delay-2">段园镇地处淮北平原，位于东经116°23′-117°03′，北纬33°16′-34°15′之间，属暖温带半湿润季风气候，年平均气温14.5℃，年降水量862毫米，无霜期210天。</p>
            
            <div class="map-container delay-3" id="locationMap">
                <!-- 地图将通过JS动态绘制 -->
            </div>
            
            <p class="delay-4">这样的气候条件非常适合葡萄生长，尤其是巨峰、夏黑、阳光玫瑰等优质品种。</p>
            
            <div class="quote delay-5">
                "段园的土壤富含矿物质，特别是钾元素含量高，种出的葡萄甜度高、口感好，这是我们的天然优势。"
                <div class="quote-author">- 段园镇农业技术员 王技术员</div>
            </div>
        </div>
        
        <!-- 插画风格葡萄元素 -->
        <div class="grape-illustration small" style="top: 10%; left: 85%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#5e2d79" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
        <div class="grape-illustration medium" style="top: 75%; left: 10%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#8a4cad" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
    </div>
    
    <!-- 页面4: 发展历程 -->
    <div class="page page-bg" id="page4">
        <div class="vine-container" id="vine4"></div>
        <div class="content">
            <h2 class="delay-1">葡萄种植的艰辛历程</h2>
            <p class="delay-2">从零星种植到规模化经营，毛庄村的葡萄产业走过了一条不平坦的道路。</p>
            
            <div class="timeline">
                <div class="timeline-item delay-1">
                    <div class="timeline-content">
                        <h3>起步阶段 (2000-2010)</h3>
                        <p>村民零星种植，技术落后，产量低，销路不畅。</p>
                    </div>
                </div>
                <div class="timeline-item delay-2">
                    <div class="timeline-content">
                        <h3>探索阶段 (2011-2015)</h3>
                        <p>引进新品种，尝试规模化种植，面临技术和管理难题。</p>
                    </div>
                </div>
                <div class="timeline-item delay-3">
                    <div class="timeline-content">
                        <h3>突破阶段 (2016-2020)</h3>
                        <p>成立合作社，打造品牌，拓展销售渠道，初见成效。</p>
                    </div>
                </div>
                <div class="timeline-item delay-4">
                    <div class="timeline-content">
                        <h3>振兴阶段 (2021至今)</h3>
                        <p>农旅融合，延伸产业链，实现乡村振兴。</p>
                    </div>
                </div>
            </div>
            
            <div class="img-container delay-5">
                <img src="https://via.placeholder.com/800x400/e8f5e9/3a7d34?text=葡萄种植技术培训" alt="葡萄种植技术培训">
                <div class="img-caption">农业专家在毛庄村进行葡萄种植技术培训（图片来源：段园镇政府）</div>
            </div>
        </div>
        
        <!-- 插画风格葡萄元素 -->
        <div class="grape-illustration small" style="top: 20%; left: 90%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#5e2d79" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
        <div class="grape-illustration medium" style="top: 65%; left: 5%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#8a4cad" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
    </div>
    
    <!-- 页面5: 互动体验 -->
    <div class="page page-bg-alt" id="page5">
        <div class="vine-container" id="vine5"></div>
        <div class="content">
            <h2 class="delay-1">亲手种植葡萄树</h2>
            <p class="delay-2">点击下方区域，体验葡萄种植的过程。每一棵葡萄树都需要精心培育才能茁壮成长。</p>
            
            <div class="planting-area delay-3" id="plantingArea">
                <!-- 葡萄树将通过JS动态添加 -->
            </div>
            
            <p class="delay-4" id="plantingTips">点击空白区域种植葡萄树，已种植: <span id="plantCount">0</span> 棵</p>
            <button class="btn btn-secondary delay-5" id="resetPlants">重新开始</button>
        </div>
        
        <!-- 插画风格葡萄元素 -->
        <div class="grape-illustration small" style="top: 15%; left: 8%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#5e2d79" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
        <div class="grape-illustration medium" style="top: 80%; left: 88%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#8a4cad" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
    </div>
    
    <!-- 页面6: 品种与技术 -->
    <div class="page page-bg" id="page6">
        <div class="vine-container" id="vine6"></div>
        <div class="content">
            <h2 class="delay-1">品种改良与技术升级</h2>
            <p class="delay-2">通过引进新品种和采用现代化种植技术，段园葡萄的品质和产量得到了显著提升。</p>
            
            <div class="stats-container">
                <div class="stat-item delay-1">
                    <div class="stat-number">8+</div>
                    <div>葡萄品种</div>
                </div>
                <div class="stat-item delay-2">
                    <div class="stat-number">95%</div>
                    <div>优质果率</div>
                </div>
                <div class="stat-item delay-3">
                    <div class="stat-number">2.5倍</div>
                    <div>亩产提升</div>
                </div>
            </div>
            <div class="data-source delay-4">数据来源：淮北市农业科学研究院（2022年）</div>
            
            <div class="comparison-chart delay-5" id="varietyChart">
                <!-- 品种对比图表将通过JS动态绘制 -->
            </div>
            
            <p class="delay-1">主要品种：巨峰、夏黑、阳光玫瑰、美人指、金手指、维多利亚、醉金香、红地球</p>
            
            <div class="img-container delay-2">
                <img src="https://via.placeholder.com/800x400/e8f5e9/3a7d34?text=阳光玫瑰葡萄" alt="阳光玫瑰葡萄">
                <div class="img-caption">段园镇引进的阳光玫瑰葡萄品种（图片来源：淮北市农业农村局）</div>
            </div>
        </div>
        
        <!-- 插画风格葡萄元素 -->
        <div class="grape-illustration small" style="top: 25%; left: 92%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#5e2d79" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
        <div class="grape-illustration medium" style="top: 70%; left: 3%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#8a4cad" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
    </div>
    
    <!-- 页面7: 产业延伸 -->
    <div class="page page-bg-alt" id="page7">
        <div class="vine-container" id="vine7"></div>
        <div class="content">
            <h2 class="delay-1">产业链延伸与多元化</h2>
            <p class="delay-2">段园镇不仅发展鲜食葡萄种植，还积极延伸产业链，提高产品附加值。</p>
            
            <div class="stats-container">
                <div class="stat-item delay-1">
                    <div class="stat-number">6</div>
                    <div>深加工产品</div>
                </div>
                <div class="stat-item delay-2">
                    <div class="stat-number">15+</div>
                    <div>农家乐与民宿</div>
                </div>
                <div class="stat-item delay-3">
                    <div class="stat-number">3万+</div>
                    <div>年接待游客</div>
                </div>
            </div>
            <div class="data-source delay-4">数据来源：段园镇旅游办（2023年）</div>
            
            <p class="delay-5">深加工产品：葡萄酒、葡萄汁、葡萄干、葡萄籽油、葡萄叶茶、葡萄果酱</p>
            
            <div class="comparison-chart delay-1" id="industryChart">
                <!-- 产业对比图表将通过JS动态绘制 -->
            </div>
            
            <div class="quote delay-2">
                "我们不再仅仅是卖葡萄，而是卖体验、卖文化、卖健康。游客来了可以采摘、品尝、购买加工产品，还能住下来体验乡村生活。"
                <div class="quote-author">- 毛庄村党支部书记 李书记</div>
            </div>
        </div>
        
        <!-- 插画风格葡萄元素 -->
        <div class="grape-illustration small" style="top: 20%; left: 6%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#5e2d79" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
        <div class="grape-illustration medium" style="top: 75%; left: 90%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#8a4cad" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
    </div>
    
    <!-- 页面8: 振兴成果 -->
    <div class="page page-bg" id="page8">
        <div class="vine-container" id="vine8"></div>
        <div class="content">
            <h2 class="delay-1">乡村振兴的丰硕成果</h2>
            <p class="delay-2">通过发展葡萄产业，段园镇毛庄村实现了从贫困村到富裕村的华丽转身。</p>
            
            <div class="stats-container">
                <div class="stat-item delay-1">
                    <div class="stat-number">5000+</div>
                    <div>葡萄种植面积(亩)</div>
                </div>
                <div class="stat-item delay-2">
                    <div class="stat-number">8000+</div>
                    <div>年均产值(万元)</div>
                </div>
                <div class="stat-item delay-3">
                    <div class="stat-number">1200+</div>
                    <div>带动就业人数</div>
                </div>
            </div>
            <div class="data-source delay-4">数据来源：淮北市乡村振兴局（2023年数据）</div>
            
            <div class="comparison-chart delay-5" id="incomeChart">
                <!-- 收入对比图表将通过JS动态绘制 -->
            </div>
            
            <p class="delay-1">如今的毛庄村，不仅葡萄远销全国各地，还发展了葡萄采摘、农家乐、农产品深加工等多元化产业，形成了完整的产业链。</p>
            
            <h3 class="delay-2">未来规划</h3>
            <p class="delay-3">打造"葡萄小镇"旅游品牌，建设葡萄酒庄，开发葡萄文创产品，进一步延伸产业链，实现可持续发展。</p>
            
            <div class="img-container delay-4">
                <img src="https://via.placeholder.com/800x400/e8f5e9/3a7d34?text=葡萄小镇规划图" alt="葡萄小镇规划图">
                <div class="img-caption">段园葡萄小镇总体规划图（图片来源：淮北市规划局）</div>
            </div>
        </div>
        
        <!-- 插画风格葡萄元素 -->
        <div class="grape-illustration small" style="top: 15%; left: 88%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#5e2d79" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
        <div class="grape-illustration medium" style="top: 80%; left: 10%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#8a4cad" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
    </div>
    
    <!-- 页面9: 结尾 -->
    <div class="page page-bg-alt" id="page9">
        <div class="vine-container" id="vine9"></div>
        <div class="content">
            <h2 class="delay-1">乡村振兴的启示</h2>
            <p class="delay-2">段园镇毛庄村的振兴之路证明，立足本地资源优势，发展特色产业，是实现乡村振兴的有效途径。</p>
            
            <div class="stats-container">
                <div class="stat-item delay-1">
                    <div class="stat-number">12.5%</div>
                    <div>年均经济增长</div>
                </div>
                <div class="stat-item delay-2">
                    <div class="stat-number">85%</div>
                    <div>村民满意度</div>
                </div>
                <div class="stat-item delay-3">
                    <div class="stat-number">3</div>
                    <div>省级荣誉</div>
                </div>
            </div>
            <div class="data-source delay-4">数据来源：淮北市统计局、乡村振兴局（2023年）</div>
            
            <p class="delay-5">葡萄藤下，不仅结出了甜美的果实，更孕育着乡村振兴的希望。</p>
            
            <div class="quote delay-1">
                "乡村振兴不是一蹴而就的，需要我们因地制宜，久久为功。段园葡萄产业的成功，是干部群众共同努力的结果。"
                <div class="quote-author">- 段园镇党委书记 张书记</div>
            </div>
            
            <div style="text-align: center; margin-top: 40px;">
                <button class="btn delay-2" id="restartBtn">重新观看</button>
            </div>
            
            <div style="margin-top: 50px; text-align: center; font-size: 0.9rem; color: #666;">
                <p class="delay-4">数据来源: 淮北市乡村振兴局、段园镇政府、淮北市农业农村局</p>
                <p class="delay-5">制作时间: 2025年11月</p>
            </div>
        </div>
        
        <!-- 插画风格葡萄元素 -->
        <div class="grape-illustration small" style="top: 20%; left: 5%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#5e2d79" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
        <div class="grape-illustration medium" style="top: 70%; left: 90%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#8a4cad" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
        <div class="grape-illustration large" style="top: 40%; left: 85%;">
            <svg class="grape-svg" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="#5e2d79" />
                <circle cx="30" cy="30" r="10" fill="#fff" opacity="0.3" />
            </svg>
        </div>
    </div>
    
    <!-- 导航点 -->
    <div class="nav-dots">
        <div class="dot active" data-page="0"></div>
        <div class="dot" data-page="1"></div>
        <div class="dot" data-page="2"></div>
        <div class="dot" data-page="3"></div>
        <div class="dot" data-page="4"></div>
        <div class="dot" data-page="5"></div>
        <div class="dot" data-page="6"></div>
        <div class="dot" data-page="7"></div>
        <div class="dot" data-page="8"></div>
    </div>

    <script>
        // 页面滚动控制
        let currentPage = 0;
        const totalPages = 9;
        const pages = document.querySelectorAll('.page');
        const dots = document.querySelectorAll('.dot');
        
        // 初始化统计数字动画
        const stat1 = document.getElementById('stat1');
        const stat2 = document.getElementById('stat2');
        const stat3 = document.getElementById('stat3');
        
        // 初始化葡萄种植互动
        const plantingArea = document.getElementById('plantingArea');
        const plantCount = document.getElementById('plantCount');
        const resetBtn = document.getElementById('resetPlants');
        
        // 滚动到指定页面
        function scrollToPage(pageIndex) {
            if (pageIndex < 0 || pageIndex >= totalPages) return;
            
            currentPage = pageIndex;
            window.scrollTo({
                top: pageIndex * window.innerHeight,
                behavior: 'smooth'
            });
            
            // 更新导航点状态
            dots.forEach((dot, index) => {
                if (index === pageIndex) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
            
            // 更新进度条
            updateProgressBar(pageIndex);
            
            // 触发页面特定动画
            triggerPageAnimations(pageIndex);
        }
        
        // 更新进度条
        function updateProgressBar(pageIndex) {
            const progress = (pageIndex / (totalPages - 1)) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
        }
        
        // 触发页面特定动画
        function triggerPageAnimations(pageIndex) {
            // 重置所有页面元素的动画状态
            resetPageAnimations();
            
            // 延迟执行当前页面动画
            setTimeout(() => {
                animatePageElements(pageIndex);
                
                switch(pageIndex) {
                    case 1:
                        // 统计数字动画
                        animateStats();
                        break;
                    case 2:
                        // 绘制地图
                        drawLocationMap();
                        break;
                    case 3:
                        // 时间轴动画
                        animateTimeline();
                        break;
                    case 5:
                        // 绘制品种对比图
                        drawVarietyChart();
                        break;
                    case 6:
                        // 绘制产业对比图
                        drawIndustryChart();
                        break;
                    case 7:
                        // 绘制收入对比图
                        drawIncomeChart();
                        break;
                }
            }, 300);
        }
        
        // 重置页面元素动画状态
        function resetPageAnimations() {
            const animatedElements = document.querySelectorAll('.page .content > *');
            animatedElements.forEach(el => {
                if (!el.classList.contains('vine-container') && !el.classList.contains('grape-illustration')) {
                    el.style.animation = 'none';
                    el.style.opacity = '0';
                    
                    // 重置特定元素的初始状态
                    if (el.classList.contains('timeline-item')) {
                        if (el.classList.contains('delay-1') || el.classList.contains('delay-3')) {
                            el.style.transform = 'translateX(-50px)';
                        } else {
                            el.style.transform = 'translateX(50px)';
                        }
                    } else if (el.classList.contains('stat-item') || 
                               el.classList.contains('img-container') || 
                               el.classList.contains('map-container') || 
                               el.classList.contains('comparison-chart') ||
                               el.classList.contains('data-source')) {
                        el.style.transform = 'translateY(30px)';
                    } else if (el.classList.contains('quote')) {
                        el.style.transform = 'translateX(-50px)';
                    } else if (el.classList.contains('planting-area')) {
                        el.style.transform = 'scale(0.9)';
                    }
                }
            });
        }
        
        // 动画页面元素
        function animatePageElements(pageIndex) {
            const page = pages[pageIndex];
            const elements = page.querySelectorAll('.content > *');
            
            elements.forEach((el, index) => {
                if (!el.classList.contains('vine-container') && !el.classList.contains('grape-illustration')) {
                    // 根据元素类型设置不同的动画
                    let animationType = 'fadeInUp';
                    
                    if (el.tagName === 'H2') {
                        animationType = 'slideInRight';
                    } else if (el.classList.contains('timeline-item')) {
                        if (el.classList.contains('delay-1') || el.classList.contains('delay-3')) {
                            animationType = 'slideInRight';
                        } else {
                            animationType = 'slideInLeft';
                        }
                    } else if (el.classList.contains('quote')) {
                        animationType = 'slideInRight';
                    } else if (el.classList.contains('planting-area')) {
                        animationType = 'scaleIn';
                    }
                    
                    // 应用动画
                    el.style.animation = `${animationType} 0.8s forwards`;
                    
                    // 如果有延迟类，使用延迟类的时间
                    if (el.classList.contains('delay-1')) {
                        el.style.animationDelay = '0.2s';
                    } else if (el.classList.contains('delay-2')) {
                        el.style.animationDelay = '0.4s';
                    } else if (el.classList.contains('delay-3')) {
                        el.style.animationDelay = '0.6s';
                    } else if (el.classList.contains('delay-4')) {
                        el.style.animationDelay = '0.8s';
                    } else if (el.classList.contains('delay-5')) {
                        el.style.animationDelay = '1s';
                    } else {
                        // 默认延迟基于元素顺序
                        el.style.animationDelay = `${index * 0.1 + 0.2}s`;
                    }
                }
            });
        }
        
        // 统计数字动画
        function animateStats() {
            animateNumber(stat1, 0, 5000, 2000);
            animateNumber(stat2, 0, 8000, 2000);
            animateNumber(stat3, 0, 1200, 2000);
        }
        
        // 数字动画函数
        function animateNumber(element, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const value = Math.floor(progress * (end - start) + start);
                element.textContent = value.toLocaleString();
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }
        
        // 绘制地理位置图
        function drawLocationMap() {
            const container = document.getElementById('locationMap');
            container.innerHTML = '';
            const canvas = document.createElement('canvas');
            canvas.width = container.offsetWidth;
            canvas.height = container.offsetHeight;
            container.appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            
            // 绘制简单地图
            ctx.fillStyle = '#e8f5e9';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // 绘制淮北市轮廓
            ctx.strokeStyle = '#3a7d34';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(100, 50);
            ctx.lineTo(300, 50);
            ctx.lineTo(350, 150);
            ctx.lineTo(300, 250);
            ctx.lineTo(100, 250);
            ctx.lineTo(50, 150);
            ctx.closePath();
            ctx.stroke();
            
            // 标记段园镇位置
            ctx.fillStyle = '#5e2d79';
            ctx.beginPath();
            ctx.arc(300, 50, 10, 0, Math.PI * 2);
            ctx.fill();
            
            // 添加文字标注
            ctx.fillStyle = '#333';
            ctx.font = '14px Arial';
            ctx.fillText('淮北市', 150, 150);
            ctx.fillText('段园镇', 320, 40);
            
            // 添加图例
            ctx.fillStyle = '#5e2d79';
            ctx.beginPath();
            ctx.arc(50, 280, 5, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillText('葡萄主产区', 60, 285);
        }
        
        // 时间轴动画
        function animateTimeline() {
            const timelineItems = document.querySelectorAll('.timeline-item');
            timelineItems.forEach((item, index) => {
                setTimeout(() => {
                    if (item.classList.contains('delay-1') || item.classList.contains('delay-3')) {
                        item.style.animation = 'slideInRight 0.8s forwards';
                    } else {
                        item.style.animation = 'slideInLeft 0.8s forwards';
                    }
                }, index * 300);
            });
        }
        
        // 初始化种植区域
        function initPlantingArea() {
            let plants = 0;
            
            plantingArea.addEventListener('click', function(e) {
                if (e.target === plantingArea) {
                    plants++;
                    plantCount.textContent = plants;
                    
                    const x = e.offsetX;
                    const plant = document.createElement('div');
                    plant.className = 'grape-plant';
                    plant.style.left = (x - 30) + 'px';
                    plantingArea.appendChild(plant);
                    
                    // 触发生长动画
                    setTimeout(() => {
                        plant.style.height = '200px';
                        plant.style.animation = 'grow 2s';
                    }, 100);
                    
                    // 限制最大种植数量
                    if (plants >= 8) {
                        plantingArea.style.pointerEvents = 'none';
                        document.getElementById('plantingTips').textContent = '葡萄园已满！点击"重新开始"再次体验';
                    }
                }
            });
            
            resetBtn.addEventListener('click', function() {
                while (plantingArea.firstChild) {
                    plantingArea.removeChild(plantingArea.firstChild);
                }
                plants = 0;
                plantCount.textContent = plants;
                plantingArea.style.pointerEvents = 'auto';
                document.getElementById('plantingTips').textContent = '点击空白区域种植葡萄树，已种植: 0 棵';
            });
        }
        
        // 绘制品种对比图
        function drawVarietyChart() {
            const container = document.getElementById('varietyChart');
            container.innerHTML = '';
            const canvas = document.createElement('canvas');
            canvas.width = container.offsetWidth;
            canvas.height = container.offsetHeight;
            container.appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            const varieties = ['巨峰', '夏黑', '阳光玫瑰', '美人指', '金手指', '维多利亚', '醉金香', '红地球'];
            const values = [35, 25, 15, 8, 6, 5, 4, 2]; // 百分比
            
            // 绘制条形图
            const barWidth = (canvas.width - 100) / varieties.length;
            
            for (let i = 0; i < varieties.length; i++) {
                const barHeight = (values[i] / 40) * (canvas.height - 50);
                const x = 50 + i * barWidth;
                const y = canvas.height - barHeight - 30;
                
                // 绘制条形
                ctx.fillStyle = i % 2 === 0 ? '#5e2d79' : '#8a4cad';
                ctx.fillRect(x, y, barWidth - 10, barHeight);
                
                // 绘制标签
                ctx.fillStyle = '#333';
                ctx.font = '12px Arial';
                ctx.fillText(varieties[i], x, canvas.height - 10);
                ctx.fillText(values[i] + '%', x, y - 5);
            }
            
            // 绘制标题
            ctx.fillStyle = '#333';
            ctx.font = 'bold 14px Arial';
            ctx.fillText('主要葡萄品种占比', 10, 20);
        }
        
        // 绘制产业对比图
        function drawIndustryChart() {
            const container = document.getElementById('industryChart');
            container.innerHTML = '';
            const canvas = document.createElement('canvas');
            canvas.width = container.offsetWidth;
            canvas.height = container.offsetHeight;
            container.appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            const industries = ['鲜食葡萄', '葡萄酒', '葡萄汁', '葡萄干', '葡萄籽油', '葡萄叶茶', '葡萄果酱'];
            const values = [60, 15, 10, 5, 4, 3, 3]; // 百分比
            
            // 绘制饼图
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(centerX, centerY) - 30;
            
            let startAngle = 0;
            const colors = ['#5e2d79', '#8a4cad', '#3a7d34', '#5cb85c', '#f1c40f', '#e67e22', '#e74c3c'];
            
            for (let i = 0; i < industries.length; i++) {
                const sliceAngle = (values[i] / 100) * 2 * Math.PI;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, startAngle, startAngle + sliceAngle);
                ctx.closePath();
                
                ctx.fillStyle = colors[i];
                ctx.fill();
                
                // 绘制图例
                const legendX = 20;
                const legendY = 20 + i * 20;
                
                ctx.fillStyle = colors[i];
                ctx.fillRect(legendX, legendY, 15, 15);
                
                ctx.fillStyle = '#333';
                ctx.font = '12px Arial';
                ctx.fillText(industries[i] + ' (' + values[i] + '%)', legendX + 20, legendY + 12);
                
                startAngle += sliceAngle;
            }
        }
        
        // 绘制收入对比图
        function drawIncomeChart() {
            const container = document.getElementById('incomeChart');
            container.innerHTML = '';
            const canvas = document.createElement('canvas');
            canvas.width = container.offsetWidth;
            canvas.height = container.offsetHeight;
            container.appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            const years = ['2015', '2017', '2019', '2021', '2023'];
            const incomes = [1200, 2500, 4200, 6500, 8200]; // 万元
            
            // 绘制折线图
            const padding = 50;
            const graphWidth = canvas.width - padding * 2;
            const graphHeight = canvas.height - padding * 2;
            
            // 绘制坐标轴
            ctx.strokeStyle = '#ccc';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, canvas.height - padding);
            ctx.lineTo(canvas.width - padding, canvas.height - padding);
            ctx.stroke();
            
            // 绘制数据点并连接
            ctx.strokeStyle = '#5e2d79';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            const maxIncome = Math.max(...incomes);
            
            for (let i = 0; i < years.length; i++) {
                const x = padding + (i / (years.length - 1)) * graphWidth;
                const y = canvas.height - padding - (incomes[i] / maxIncome) * graphHeight;
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
                
                // 绘制数据点
                ctx.fillStyle = '#5e2d79';
                ctx.beginPath();
                ctx.arc(x, y, 5, 0, Math.PI * 2);
                ctx.fill();
                
                // 绘制年份标签
                ctx.fillStyle = '#333';
                ctx.font = '12px Arial';
                ctx.fillText(years[i], x - 10, canvas.height - padding + 20);
                
                // 绘制收入标签
                ctx.fillText(incomes[i] + '万元', x - 20, y - 10);
            }
            
            ctx.stroke();
            
            // 绘制标题
            ctx.fillStyle = '#333';
            ctx.font = 'bold 14px Arial';
            ctx.fillText('毛庄村葡萄产业年收入增长', 10, 20);
        }
        
        // 绘制葡萄藤
        function drawVines() {
            for (let i = 1; i <= totalPages; i++) {
                const container = document.getElementById(`vine${i}`);
                container.innerHTML = '';
                const canvas = document.createElement('canvas');
                canvas.width = container.offsetWidth;
                canvas.height = container.offsetHeight;
                container.appendChild(canvas);
                
                const ctx = canvas.getContext('2d');
                
                // 绘制葡萄藤
                ctx.strokeStyle = '#3a7d34';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(100, canvas.height);
                
                // 创建蜿蜒的葡萄藤路径
                for (let y = canvas.height; y > 100; y -= 20) {
                    const x = 100 + Math.sin(y / 30) * 50;
                    ctx.lineTo(x, y);
                }
                ctx.stroke();
                
                // 添加葡萄叶
                ctx.fillStyle = '#3a7d34';
                for (let y = canvas.height - 50; y > 150; y -= 80) {
                    const x = 100 + Math.sin(y / 30) * 50;
                    drawLeaf(ctx, x, y);
                }
                
                // 添加葡萄串
                for (let y = canvas.height - 100; y > 200; y -= 120) {
                    const x = 100 + Math.sin(y / 30) * 50;
                    drawGrapeCluster(ctx, x, y - 20);
                }
            }
        }
        
        // 绘制葡萄叶
        function drawLeaf(ctx, x, y) {
            ctx.save();
            ctx.translate(x, y);
            ctx.rotate(Math.PI / 4);
            
            ctx.beginPath();
            ctx.ellipse(0, 0, 25, 15, 0, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.restore();
        }
        
        // 绘制葡萄串
        function drawGrapeCluster(ctx, x, y) {
            ctx.save();
            ctx.translate(x, y);
            
            // 葡萄茎
            ctx.strokeStyle = '#3a7d34';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(0, 30);
            ctx.stroke();
            
            // 葡萄果实
            ctx.fillStyle = '#5e2d79';
            for (let i = 0; i < 5; i++) {
                for (let j = 0; j < 3; j++) {
                    if (Math.random() > 0.3) { // 随机留空，更自然
                        ctx.beginPath();
                        ctx.arc(-15 + i * 7, 10 + j * 7, 5, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }
            }
            
            ctx.restore();
        }
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 隐藏加载动画
            setTimeout(() => {
                document.getElementById('loader').classList.add('hidden');
            }, 1500);
            
            // 绘制葡萄藤
            drawVines();
            
            // 导航点点击事件
            dots.forEach(dot => {
                dot.addEventListener('click', function() {
                    const pageIndex = parseInt(this.getAttribute('data-page'));
                    scrollToPage(pageIndex);
                });
            });
            
            // 按钮事件
            document.getElementById('startBtn').addEventListener('click', function() {
                scrollToPage(1);
            });
            
            document.getElementById('restartBtn').addEventListener('click', function() {
                scrollToPage(0);
            });
            
            // 初始化种植区域
            initPlantingArea();
            
            // 鼠标滚轮事件
            let scrollTimeout;
            window.addEventListener('wheel', function(e) {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(function() {
                    if (e.deltaY > 0 && currentPage < totalPages - 1) {
                        scrollToPage(currentPage + 1);
                    } else if (e.deltaY < 0 && currentPage > 0) {
                        scrollToPage(currentPage - 1);
                    }
                }, 100);
            });
            
            // 触摸滑动事件
            let touchStartY = 0;
            window.addEventListener('touchstart', function(e) {
                touchStartY = e.touches[0].clientY;
            });
            
            window.addEventListener('touchend', function(e) {
                const touchEndY = e.changedTouches[0].clientY;
                const diff = touchStartY - touchEndY;
                
                if (Math.abs(diff) > 50) {
                    if (diff > 0 && currentPage < totalPages - 1) {
                        scrollToPage(currentPage + 1);
                    } else if (diff < 0 && currentPage > 0) {
                        scrollToPage(currentPage - 1);
                    }
                }
            });
            
            // 键盘事件
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowDown' && currentPage < totalPages - 1) {
                    scrollToPage(currentPage + 1);
                } else if (e.key === 'ArrowUp' && currentPage > 0) {
                    scrollToPage(currentPage - 1);
                }
            });
            
            // 初始触发第一页动画
            triggerPageAnimations(0);
        });
        
        // 窗口调整大小时重绘葡萄藤
        window.addEventListener('resize', function() {
            document.querySelectorAll('.vine-container').forEach(container => {
                container.innerHTML = '';
            });
            drawVines();
        });
    </script>
</body>
</html>